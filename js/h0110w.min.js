$(document).ready(function(){h0110w.init()});var h0110w=function(){var a=new Array;a.debug=!0,a.default_text="<strong>h0110w</strong><br><br>Transient publishing.";var b=function(){j("h0110w.init()"),$("html").addClass("js"),h.init(),i.init(),f.init(),e.init(),$(".content").focus()},c=function(a){var b=LZString.compressToBase64(a);return b},d=function(a){var b=LZString.decompressFromBase64(a);return b},e=function(){var b=window.location.href.replace(window.location.hash,""),c=function(){j("url.init()");var c=decodeURIComponent(location.href.replace(b,""));if("#/"==c.substr(0,2)&&(c=c.substr(2)),j("query: "+c,!0),c.length>0){var e=d(c);f.update(e)}else f.update(a.default_text);f.focusEnd(),i.update(b+"#/"+c)},e=function(a){j("url.update( "+a+" )"),history.replaceState(0,document.title,b+"#/"+a)};return{init:function(){c()},update:function(a){e(a)},getBaseURL:function(){return b}}}(),f=function(){var a,b=function(){a=f(),d(),l()},d=function(){is_typing=!1,a.on("blur keyup",function(){j("on.keyup"),is_typing||(is_typing=!0,setTimeout(function(){is_typing=!1,g()},1e3))}),a.on("mouseup",function(){j("on.mouseup()"),""!=k()?(j("on.select()"),h.show()):h.hide()})},f=function(){j("content.build()");var a=$("<div></div>");return a.addClass("content").attr("contenteditable","true").attr("onpaste","h0110w.clipboard.paste( this, event );"),a.appendTo($("body")),a},g=function(){var b=a.html(),d=c(b);e.update(d),i.update(e.getBaseURL()+"#/"+d)},k=function(){var a="";return window.getSelection?a=window.getSelection():document.getSelection?a=document.getSelection():document.selection&&(a=document.selection.createRange().text),a},l=function(){var b,c;document.createRange?(b=document.createRange(),b.selectNodeContents(a[0]),b.collapse(!1),c=window.getSelection(),c.removeAllRanges(),c.addRange(b)):document.selection&&(b=document.body.createTextRange(),b.moveToElementText(a[0]),b.collapse(!1),b.select())},m=function(a){j("content.format( "+a+" )"),document.execCommand(a)},n=function(b){j("content.update( "+b+")"),a.html(b)};return{init:function(){b()},getSelection:function(){k()},focusEnd:function(){l()},format:function(a){m(a)},update:function(a){n(a)}}}(),g=function(){var a=function(a,b){document.execCommand("insertText",!1,b.clipboardData.getData("text/plain")),b.preventDefault()};return{paste:function(b,c){a(b,c)}}}(),h=function(){var a,b=function(){a=d(),c()},c=function(){$(document).on("click",".tools a",function(a){a.preventDefault();var b=$(this).attr("data-format");f.format(b)})},d=function(){j("tools.build()");var a=$('<div class="tools" contenteditable="false"></div>'),b=new Array;return b.push($('<a href="javascript:void(0)" class="strong" data-format="bold" title="strong">A</a>')),b.push($('<a href="javascript:void(0)" class="emphasize" data-format="italic" title="emphasize">A</a>')),b.push($('<a href="javascript:void(0)" class="remove" data-format="removeFormat" title="remove Format">&#x2715;</a>')),$.each(b,function(){a.append($(this))}),a.prependTo($("body")),a},e=function(){j("tools.show()"),setTimeout(function(){a.addClass("active")},1)},g=function(){j("tools.hide()"),a.removeClass("active")},h=function(){b(),a.delay(500).remove()};return{init:function(){b()},build:function(){d()},show:function(){e()},hide:function(){g()},destroy:function(){h()}}}(),i=function(){var a,b=function(){a=d(),c()},c=function(){a.find(".share").on("click",function(a){a.preventDefault()}),a.find(".share input").on("click",function(){$(this).select()})},d=function(){j("nav.build()");var a=$("<nav></nav>");return a.append('<a href="#" class="share">Share<span><input type="text" name="url" value="" readonly="readonly"/></span></a>').append('<a href="'+e.getBaseURL()+'" class="new" target="_blank">New</a>'),a.appendTo($("body")),a},f=function(b){j("nav.update( "+b+" )"),a.find(".share input").attr("value",b)};return{init:function(){b()},update:function(a){f(a)}}}(),j=function(b){a.debug&&"undefined"!=typeof console&&console.log(b)};return{init:function(){b()},clipboard:g}}();