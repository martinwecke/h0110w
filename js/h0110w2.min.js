$(document).ready(function(){h0110w.init()});var h0110w=function(){var a=!0,b=function(){j("h0110w.init()"),h.init(),i.init(),f.init(),e.init(),$(".content").focus()},c=function(a){var b=LZString.compressToBase64(a);return b},d=function(a){var b=LZString.decompressFromBase64(a);return b},e=function(){var a=$("head").attr("data-baseurl"),b=function(){j("url.init()");var b=decodeURIComponent(location.href.replace(a,""));if("#/"==b.substr(0,2)&&(b=b.substr(2)),j("query: "+b,!0),b.length>0){var c=d(b);f.update(c),i.update(a+"#/"+b)}},c=function(b){j("url.update( "+b+" )"),history.replaceState(0,document.title,a+"#/"+b)};return{init:function(){b()},update:function(a){c(a)},getBaseURL:function(){return a}}}(),f=function(){var a,b=function(){a=$(".content"),d()},d=function(){is_typing=!1,a.on("blur keyup",function(){j("on.keyup"),is_typing||(is_typing=!0,setTimeout(function(){is_typing=!1,f()},1e3))}),a.on("mouseup",function(){j("on.mouseup()"),""!=g()?(j("on.select()"),h.show()):h.hide()}),$(document).on("mouseenter",".content em, .content strong",function(){h.build($(this))}),$(document).on("mouseleave",".content em, .content strong",function(){h.hide()})},f=function(){var b=a.html(),d=c(b);e.update(d),i.update(e.getBaseURL()+"#/"+d)},g=function(){var a="";return window.getSelection?a=window.getSelection():document.getSelection?a=document.getSelection():document.selection&&(a=document.selection.createRange().text),a},k=function(a){j("content.format( "+a+" )"),document.execCommand(a)},l=function(b){j("content.update( "+b+")"),a.html(b)};return{init:function(){b()},getSelection:function(){g()},format:function(a){k(a)},update:function(a){l(a)}}}(),g=function(){var a=function(a,b){document.execCommand("insertText",!1,b.clipboardData.getData("text/plain")),b.preventDefault()};return{paste:function(b,c){a(b,c)}}}(),h=function(){var a,b=function(){d(),c(),a=$(".tools")},c=function(){$(document).on("click",".tools a",function(a){a.preventDefault();var b=$(this).attr("data-format");f.format(b)})},d=function(a,b){j("tools.build( el: "+a+", range: "+b+")");var c=$('<div class="tools" contenteditable="false"></div>'),d=new Array;d.push($('<a href="javascript:void(0)" class="strong" data-format="bold" title="strong">A</a>')),d.push($('<a href="javascript:void(0)" class="emphasize" data-format="italic" title="emphasize">A</a>')),d.push($('<a href="javascript:void(0)" class="remove" data-format="removeFormat" title="remove Format">&times</a>')),$.each(d,function(){c.append($(this))}),c.prependTo($("body"))},e=function(){j("tools.show()"),setTimeout(function(){a.addClass("active")},1)},g=function(){j("tools.hide()"),a.removeClass("active")},h=function(){b(),a.delay(500).remove()};return{init:function(){b()},build:function(a,b){d(a,b)},show:function(){e()},hide:function(){g()},destroy:function(){h()}}}(),i=function(){var a,b=function(){a=$("nav"),c()},c=function(){a.find(".share").on("click",function(a){a.preventDefault()}),a.find(".share input").on("click",function(){$(this).select()})},d=function(b){j("nav.update( "+b+" )"),j(a),a.find(".share input").attr("value","").attr("value",b)};return{init:function(){b()},update:function(a){d(a)}}}(),j=function(b){a&&"undefined"!=typeof console&&console.log(b)};return{init:function(){b()},clipboard:g}}();